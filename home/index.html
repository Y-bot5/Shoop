<!DOCTYPE html>
<html lang="en" data-theme="dark light">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/Shoop/home/styles.css">
    <link rel="stylesheet" href="/Shoop/styles.css">

    <link rel="icon" href="/Shoop/icon-32.png" sizes="32x32">
            <link rel="icon" href="/Shoop/icon-192.png" sizes="192x192">

    <link rel="manifest" href="/shoop/manifest.json">

    <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/Shoop/sw.js')
      .then(() => console.log("Service Worker Registered for Shoop"));
  }
    </script>

    <title>Shoop</title>
  </head>
  <body>
    <header class="topbar">
  <button id="menuBtn" aria-label="Menu">☰</button>

  <a id="profileLink">
    <img
      id="profileIcon"
      src="/Shoop/noProfile.webp"
      alt="Profile"
    >
  </a>
</header>

                                                                                                  <h1 id="status">Loading…</h1>

                                                                                                                      <script type="module">
                                                                                                                                          import { auth, onAuthStateChanged } from "/Shoop/firebase.js";

                                                                                                                                                              const status = document.getElementById("status");
                                                                                                                                                                                  const profileLink = document.getElementById("profileLink");

                                                                                                                                                                                                      onAuthStateChanged(auth, user => {
                                                                                                                                                                                                                                if (user) {
                                                                                                                                                                                                                                                                status.textContent = `Hello, ${user.displayName || user.email}`;
                                                                                                                                                                                                                                                                                                    profileLink.href = "/Shoop/profile/";
                                                                                                                                                                                                                                                                                                                              } else {
                                                                                                                                                                                                                                                                                                                                                              status.textContent = "Not logged in";
                                                                                                                                                                                                                                                                                                                                                                                                  profileLink.href = "/Shoop/login/";
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </script>
</body>
</html>