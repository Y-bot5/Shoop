<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth, user => {
  if (!user) {
    location.href = "/Shoop/login.html";
  }
});
</script>

    <script type="module">
        await signInWithEmailAndPassword(auth, email, password);

// redirect after success
window.location.replace("/Shoop/index.html");

        import { sendEmailVerification } from "firebase/auth";
sendEmailVerification(auth.currentUser);

        import { createUserWithEmailAndPassword } from "firebase/auth";

await createUserWithEmailAndPassword(auth, email, password);

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyD6bBqUlQe32d7dZRmJane3gAsttTCZyPs",
  authDomain: "shoop-hu4f.firebaseapp.com",
  projectId: "shoop-hu4f",
  storageBucket: "shoop-hu4f.firebasestorage.app",
  messagingSenderId: "291613688377",
  appId: "1:291613688377:web:6beb609208a1e22da403e8"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

document.getElementById("loginBtn").onclick = async () => {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  try {
    await signInWithEmailAndPassword(auth, email, password);
    location.href = "/Shoop/index.html";
  } catch (e) {
    alert(e.message);
  }
};
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

       <link rel="icon" href="favicon.ico" sizes="any">
           <link rel="icon" type="image/png" sizes="128x128" href="icon-128.png">
               <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
                   <link rel="icon" type="image/png" sizes="32x32" href="icon-32.png">
                       <link rel="icon" type="image/png" sizes="48x48" href="icon-48.png">
                           <link rel="icon" type="image/png" sizes="96x96" href="icon-96.png">
                           
    <title>Login | Shoop</title>
    <!-- Use a modern, accessible CSS system for zero-friction sign-in -->
    <link rel="stylesheet" href="login.css"> 
</head>
<body>
    <main class="login-container">
        <form id="loginForm" action="/index.html" method="GET" novalidate>
            <h1>Sign In</h1>
            <p>Welcome back! Please enter your details.</p>

            <div class="form-group">
                <label for="email">Email Address</label>
                <!-- autocomplete="username" helps password managers -->
                <input type="email" id="email" name="email" 
                       placeholder="you@example.com" required 
                       autocomplete="username">
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <div class="password-wrapper">
                    <input type="password" id="password" name="password" 
                           required autocomplete="current-password">
                    <button type="button" id="togglePassword" aria-label="Show password">
                        <img class="showPassword" src="passwordShow.webp" alt="Show password">
                    </button>
                </div>
            </div>

            <div class="form-options">
                <label class="checkbox-container">
                    <input type="checkbox" name="remember"> Remember me
                </label>
                <a href="/forgot-password" class="forgot-link">Forgot password?</a>
            </div>

            <button type="submit" class="btn-primary">Sign In</button>

            <p class="signup-nudge">
                Don't have an account? <a href="/signup">Create one now</a>
            </p>
        </form>
    </main>

    <script>
        // Password Visibility Toggle
        const toggleBtn = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('password');

        toggleBtn.addEventListener('click', () => {
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            toggleBtn.setAttribute('aria-label', isPassword ? 'Hide password' : 'Show password');
            toggleBtn.innerHTML = isPassword ? `<img id="hidePassword" src="passwordHide.webp" alt="Hide password">` : `<img class="showPassword" src="passwordShow.webp" alt="Show password">`;
        });

        // Form Submission with basic validation
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            // Add your authentication logic here
            console.log("Attempting login...");
        });
    </script>
</body>
</html>